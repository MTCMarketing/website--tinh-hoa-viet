"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8425],{2479:function(e,t,n){var a=n(6540),r=n(6898),l=n(5268);t.A=e=>{let{children:t,role:n="member",redirect:o="/members/dashboard"}=e;const{0:s,1:i}=(0,a.useState)(null),{0:c,1:u}=(0,a.useState)(null),{0:d,1:f}=(0,a.useState)(!0),{0:m,1:g}=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{f(!0);try{var e,t;const{data:a}=await r.ND.auth.getSession(),o=a.session;if(i(o),null==o||!o.user)return(0,l.navigate)("/sign-in"),g(!1),void u(null);const s=null!==(e=null===(t=o.user.user_metadata)||void 0===t?void 0:t.role)&&void 0!==e?e:"member";if(u(s),"string"==typeof n)g(s===n||"member"===n&&!!s);else{const e=n[s];g(!!e)}}catch(a){console.error("RoleRoutes check error:",a),g(!1)}finally{f(!1)}})()},[n]);const h={allowed:m,loading:d,session:s,role:c};return"function"==typeof t?a.createElement(a.Fragment,null,t(h)):((0,a.useEffect)(()=>{if(!d&&c)if("string"==typeof n)m||(0,l.navigate)(o);else{const e=n[c];e?!m&&e.onFalse?(0,l.navigate)(e.onFalse):m&&e.onTrue&&(0,l.navigate)(e.onTrue):(0,l.navigate)(o)}},[d,m,c,n,o]),d?null:m||"string"!=typeof n?a.createElement(a.Fragment,null,t):null)}},6531:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var a=n(6540),r=n(2479);function l(){return a.createElement(r.A,{role:"authenticator"},e=>{let{allowed:t,loading:n,role:r}=e;return a.createElement("div",{style:{background:"#fff",color:"#000",minHeight:"100vh",fontFamily:"system-ui, sans-serif",padding:24}},a.createElement("h1",null,"üõ°Ô∏è Admin Access Verification"),a.createElement("p",{style:{color:"#444",marginBottom:24}},"This page shows whether the current user has admin-level access."),a.createElement("div",{style:{background:t?"#e7ffe7":n?"#ffffe7":"#ffe7e7",border:t?"2px solid #0a0":n?"2px solid #aa0":"2px solid #f33",padding:20,borderRadius:8,color:t?"#064a06":n?"#665500":"#8a0000",fontWeight:"bold",textAlign:"center",transition:"all 0.3s ease"}},n?"‚è≥ Checking access...":t?"‚úÖ Access granted ‚Äî you are an authenticator.":"‚ùå Access denied ‚Äî you are not an authenticator."),a.createElement("div",{style:{marginTop:40,borderTop:"1px solid #ccc",paddingTop:20}},a.createElement("h3",null,"üë§ Current Role"),a.createElement("pre",{style:{background:"#111",color:"#0f0",padding:12,borderRadius:6,fontFamily:"monospace",fontSize:12}},JSON.stringify({role:r},null,2))))})}}}]);
//# sourceMappingURL=component---src-pages-test-role-authenticator-only-tsx-3f160f5a8abd59ab04c1.js.map