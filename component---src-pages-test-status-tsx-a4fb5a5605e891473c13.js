"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3938],{599:function(e,t,n){n.d(t,{T4:function(){return u},mg:function(){return l},tp:function(){return c},vM:function(){return r},vx:function(){return s}});var a=n(6634),o=n(6898);const s=async function(e){let{onSuccess:t,onFail:n}=void 0===e?{}:e;console.log("ðŸ” Logging outâ€¦"),(0,a.nR)();const{error:s}=await o.ND.auth.signOut();if(s)return console.error("âŒ Logout error:",s),null==n?void 0:n(s.message);(0,a.nR)(),localStorage.removeItem("__thv_valid_supabase_keys__"),null==t||t()},r=async e=>{let{email:t,password:n,fullName:a,onSuccess:s,onFail:r}=e;const{data:l,error:u}=await o.ND.auth.signUp({email:t,password:n,options:{data:{full_name:a||"unknown",signup_source:"thv-web"}}});u?null==r||r(u.message):null==s||s()},l=async e=>{let{email:t,password:n,onSuccess:a,onFail:s}=e;const{data:r,error:l}=await o.ND.auth.signInWithPassword({email:t,password:n});l?null==s||s(l.message):null==a||a()},u=async e=>{let{email:t,onSuccess:n,onFail:a}=e;const{data:s,error:r}=await o.ND.auth.resetPasswordForEmail(t);r?null==a||a(r.message):null==n||n()},c=async e=>{let{newPassword:t,onSuccess:n,onFail:a}=e;const{data:s,error:r}=await o.ND.auth.updateUser({password:t});r?null==a||a(r.message):null==n||n()}},1591:function(e,t,n){n.d(t,{D:function(){return s}});var a=n(6540),o=n(6898);function s(){const{0:e,1:t}=(0,a.useState)(!1),{0:n,1:s}=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=!0;(async()=>{const{data:n}=await o.ND.auth.getSession();e&&(t(!!n.session),s(!1))})();const{data:n}=o.ND.auth.onAuthStateChange((n,a)=>{e&&t(!!a)});return()=>{e=!1,n.subscription.unsubscribe()}},[]),{isLoggedIn:e,loading:n}}},5830:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var a=n(6540),o=n(1591),s=n(599);function r(){const{isLoggedIn:e,loading:t}=(0,o.D)();return t?a.createElement("p",null,"Loading..."):a.createElement("div",{style:{textAlign:"center",marginTop:"20vh"}},e?a.createElement("h1",null,"You are logged in"):a.createElement("h1",null,"You are not logged in"),a.createElement("br",null),a.createElement("br",null),a.createElement("button",{onClick:()=>(0,s.vx)(),style:{padding:10,borderRadius:5,background:"#D32F2F",color:"#fff",border:"none",cursor:"pointer"}},"Logout to see Example status Change"))}},6634:function(e,t,n){function a(){return Object.keys(localStorage).filter(e=>e.startsWith("sb-")&&e.includes("-auth-token"))}function o(){const e=a();if(0===e.length)return;const t={};e.forEach(e=>t[e]=localStorage.getItem(e)||""),localStorage.setItem("__thv_valid_supabase_keys__",JSON.stringify(t))}function s(){const e=localStorage.getItem("__thv_valid_supabase_keys__");if(!e)return;const t=JSON.parse(e);Object.keys(t).forEach(e=>{localStorage.getItem(e)||(console.log("ðŸ›  Restoring missing Supabase key:",e),localStorage.setItem(e,t[e]))})}function r(){const e=JSON.parse(localStorage.getItem("__thv_valid_supabase_keys__")||"{}");a().forEach(t=>{e[t]||(console.log("ðŸ§¨ Removing stale Supabase key:",t),localStorage.removeItem(t))})}n.d(t,{ID:function(){return s},Uf:function(){return o},nR:function(){return r}})}}]);
//# sourceMappingURL=component---src-pages-test-status-tsx-a4fb5a5605e891473c13.js.map