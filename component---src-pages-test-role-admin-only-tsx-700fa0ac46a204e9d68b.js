"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2885],{2479:function(e,n,t){var a=t(6540),r=t(6898),l=t(5268);n.A=e=>{let{children:n,role:t="member",redirect:o="/members/dashboard"}=e;const{0:s,1:i}=(0,a.useState)(null),{0:c,1:u}=(0,a.useState)(null),{0:d,1:f}=(0,a.useState)(!0),{0:m,1:g}=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{f(!0);try{var e,n;const{data:a}=await r.ND.auth.getSession(),o=a.session;if(i(o),null==o||!o.user)return(0,l.navigate)("/sign-in"),g(!1),void u(null);const s=null!==(e=null===(n=o.user.user_metadata)||void 0===n?void 0:n.role)&&void 0!==e?e:"member";if(u(s),"string"==typeof t)g(s===t||"member"===t&&!!s);else{const e=t[s];g(!!e)}}catch(a){console.error("RoleRoutes check error:",a),g(!1)}finally{f(!1)}})()},[t]);const p={allowed:m,loading:d,session:s,role:c};return"function"==typeof n?a.createElement(a.Fragment,null,n(p)):((0,a.useEffect)(()=>{if(!d&&c)if("string"==typeof t)m||(0,l.navigate)(o);else{const e=t[c];e?!m&&e.onFalse?(0,l.navigate)(e.onFalse):m&&e.onTrue&&(0,l.navigate)(e.onTrue):(0,l.navigate)(o)}},[d,m,c,t,o]),d?null:m||"string"!=typeof t?a.createElement(a.Fragment,null,n):null)}},3395:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var a=t(6540),r=t(2479);function l(){return a.createElement(r.A,{role:"admin"},e=>{let{allowed:n,loading:t,role:r}=e;return a.createElement("div",{style:{background:"#fff",color:"#000",minHeight:"100vh",fontFamily:"system-ui, sans-serif",padding:24}},a.createElement("h1",null,"ğŸ›¡ï¸ Admin Access Verification"),a.createElement("p",{style:{color:"#444",marginBottom:24}},"This page shows whether the current user has admin-level access."),a.createElement("div",{style:{background:n?"#e7ffe7":t?"#ffffe7":"#ffe7e7",border:n?"2px solid #0a0":t?"2px solid #aa0":"2px solid #f33",padding:20,borderRadius:8,color:n?"#064a06":t?"#665500":"#8a0000",fontWeight:"bold",textAlign:"center",transition:"all 0.3s ease"}},t?"â³ Checking access...":n?"âœ… Access granted â€” you are an admin.":"âŒ Access denied â€” you are not an admin."),a.createElement("div",{style:{marginTop:40,borderTop:"1px solid #ccc",paddingTop:20}},a.createElement("h3",null,"ğŸ‘¤ Current Role"),a.createElement("pre",{style:{background:"#111",color:"#0f0",padding:12,borderRadius:6,fontFamily:"monospace",fontSize:12}},JSON.stringify({role:r},null,2))))})}}}]);
//# sourceMappingURL=component---src-pages-test-role-admin-only-tsx-700fa0ac46a204e9d68b.js.map