"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8840],{856:function(e,t,a){var n=a(6540),r=a(4794),s=a(6898);const i={EN:{brandTitle:"TINH HOA VIỆT",tagline:"Where Vietnamese Excellence Meets Global Recognition",loading:"Checking authentication...",redirect:"Redirecting..."},VN:{brandTitle:"TINH HOA VIỆT",tagline:"Nơi tôn vinh tinh hoa Việt Nam vươn tầm quốc tế",loading:"Đang kiểm tra xác thực...",redirect:"Đang chuyển hướng..."}};t.A=e=>{let{children:t,redirectTo:a="/members/login",language:c="EN"}=e;const{0:l,1:o}=(0,n.useState)(null),{0:d,1:m}=(0,n.useState)(i[c].loading),{0:u,1:g}=(0,n.useState)(!0),h=i[c];return(0,n.useEffect)(()=>{(async()=>{const{data:e,error:t}=await s.ND.auth.getSession();if(t)return console.error("Session error:",t),m("⚠️ Error checking session."),void g(!1);e.session?(o(e.session),m("✅ Access granted!")):(m("❌ You must be logged in to view this page."),setTimeout(()=>(0,r.navigate)(a),1800)),g(!1)})();const{data:e}=s.ND.auth.onAuthStateChange((e,t)=>{o(t),t||(m(h.redirect),setTimeout(()=>(0,r.navigate)(a),1500))});return()=>{e.subscription.unsubscribe()}},[a,h.redirect]),u||!l?n.createElement("div",{className:"auth-shell"},n.createElement("aside",{className:"brand-side","aria-hidden":!0},n.createElement("div",{className:"brand-sheen"}),n.createElement("div",{className:"brand-pattern"}),n.createElement("div",{className:"brand-wrap"},n.createElement("h1",{className:"brand-name"},h.brandTitle),n.createElement("p",{className:"brand-tag"},h.tagline))),n.createElement("main",{className:"form-side"},n.createElement("div",{className:"loading-block"},n.createElement("div",{className:"spinner"}),n.createElement("p",{className:"loading-text"},d)))):n.createElement(n.Fragment,null,t)}},5484:function(e,t,a){a.r(t);var n=a(6540),r=a(1354),s=a(856);t.default=()=>n.createElement(s.A,null,n.createElement(r.A,null))}}]);
//# sourceMappingURL=component---src-pages-test-cms-[user-id]-message-index-tsx-2e738220889057e1e850.js.map