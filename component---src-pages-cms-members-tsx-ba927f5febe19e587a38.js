"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6736],{859:function(e,t,l){l.r(t),l.d(t,{default:function(){return d}});var n=l(6540),a=l(2479),r=l(1302),c=l(6462),i=l(7843),o=l(6898),u=l(362);var M=e=>{let{query:t}=e;const{0:l,1:a}=(0,n.useState)([]),{0:r,1:M}=(0,n.useState)(!0),{0:d,1:m}=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{console.log("ðŸ“¡ [DashboardTable] Fetching from user_member_v2â€¦"),M(!0),m(null);try{const{data:e,error:t}=await o.ND.from("user_member_v2").select("\n            id,\n            created_at,\n            full_name,\n            hometown,\n            title,\n            avatar_url,\n            field_of_expertise\n          ").order("created_at",{ascending:!1});if(t)throw t;if(null==e||!e.length)return console.warn("âš ï¸ No members found in user_member_v2"),void a([]);const l=["6c77d859-1af1-418e-b0e0-0d3cc4e80fad","02c567a2-b193-4009-89e5-884386540733","e0a7bf63-0d67-4e86-95f2-2e2c3276e7f6","e04e38e0-7eed-4281-bc05-89fb6c9b30f1","387899c3-fa8a-4582-b6dc-0833dfc02f40"],n=e.filter(e=>!l.includes(e.id));console.log("âœ… Loaded "+n.length+" visible members (filtered from "+e.length+")"),a(n)}catch(e){console.error("ðŸ’¥ Fetch error:",e),m(e.message||"Unknown error"),a([])}finally{M(!1)}})()},[]);const s=l.filter(e=>[e.full_name,e.title,e.field_of_expertise,e.hometown].join(" ").toLowerCase().includes(t.toLowerCase()));return r?n.createElement("div",{style:{padding:40,textAlign:"center"}},"â³ Loading membersâ€¦"):d?n.createElement("div",{style:{padding:40,textAlign:"center",color:"red"}},"âŒ ",d):l.length?s.length?n.createElement("section",{style:{position:"relative"}},n.createElement("style",null,u.P),n.createElement("div",{className:"table-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid var(--border)"}},n.createElement("div",null,n.createElement("strong",null,"Members"),n.createElement("div",{style:{fontSize:"11px",color:"var(--muted)"}},"Showing ",s.length," of ",l.length," total"))),n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"#"),n.createElement("th",null,"Avatar"),n.createElement("th",null,"Full Name"),n.createElement("th",null,"Title"),n.createElement("th",null,"Expertise"),n.createElement("th",null,"Hometown"),n.createElement("th",null,"Joined"))),n.createElement("tbody",null,s.map((e,t)=>n.createElement("tr",{key:e.id,onClick:()=>(0,c.navigate)(""+e.id)},n.createElement("td",null,t+1),n.createElement("td",null,n.createElement("div",{className:"avatar-wrapper"},n.createElement(i.A,{url:e.avatar_url||"",width:32,height:32,alt:e.full_name||"User Avatar"}))),n.createElement("td",null,e.full_name||"â€”"),n.createElement("td",null,e.title||"â€”"),n.createElement("td",null,e.field_of_expertise||"â€”"),n.createElement("td",null,e.hometown||"â€”"),n.createElement("td",null,e.created_at?new Date(e.created_at).toLocaleDateString(void 0,{year:"2-digit",month:"2-digit",day:"2-digit"}):"â€”")))))):n.createElement("div",{style:{padding:40,textAlign:"center",color:"#888"}},"ðŸ” No results match ",n.createElement("code",null,t),"."):n.createElement("div",{style:{padding:40,textAlign:"center",color:"#888"}},"âš ï¸ No members found in ",n.createElement("code",null,"user_member_v2"),".")};function d(){return n.createElement(a.A,{role:"admin"},n.createElement(r.A,null,e=>{let{query:t}=e;return n.createElement(M,{query:t})}))}},7843:function(e,t,l){l.d(t,{A:function(){return a}});var n=l(6540);var a=e=>{let{url:t,width:l=100,height:a=100,alt:r="User Avatar",className:c=""}=e;const{0:i,1:o}=(0,n.useState)(!1),{0:u,1:M}=(0,n.useState)(!1),d=!t||u||""===t.trim()||!i;return n.createElement("img",{src:d?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjkwOSIgaGVpZ2h0PSIyOTA5IiB2aWV3Qm94PSIwIDAgMjkwOSAyOTA5IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjkwOC42IDE0NTQuMjVDMjkwOC42IDIyNTcuNCAyMjU3LjQ4IDI5MDguNSAxNDU0LjMgMjkwOC41QzY1MS4xMiAyOTA4LjUgMCAyMjU3LjQgMCAxNDU0LjI1QzAgNjUxLjA5NyA2NTEuMTIgMCAxNDU0LjMgMEMyMjU3LjQ4IDAgMjkwOC42IDY1MS4wOTcgMjkwOC42IDE0NTQuMjVaIiBmaWxsPSIjRDdFMUUxIi8+CjxwYXRoIGQ9Ik0yMzY3LjkzIDI1MDUuMjRWMjU4NS42OUMyMTE4LjIzIDI3ODcuNTYgMTgwMC4zOSAyOTA4LjQ3IDE0NTQuMjcgMjkwOC40N0MxMTA4LjIyIDI5MDguNDcgNzkwLjMzOSAyNzg3LjU2IDU0MC42NyAyNTg1Ljc2VjI1MDUuMjRDNTQwLjY3IDIwNzAuNTEgODkzLjEwNSAxNzE4LjAyIDEzMjcuODUgMTcxOC4wMkgxNTgwLjcxQzIwMTUuNSAxNzE4LjAyIDIzNjcuOTMgMjA3MC41MSAyMzY3LjkzIDI1MDUuMjRaIiBmaWxsPSIjQTFBRUIwIi8+CjxwYXRoIGQ9Ik0xOTM3LjM2IDEwMjIuMjZDMTkzNy4zNiAxMjg5LjA0IDE3MjEuMDkgMTUwNS4zIDE0NTQuMyAxNTA1LjNDMTE4Ny41MSAxNTA1LjMgOTcxLjI0MSAxMjg5LjA0IDk3MS4yNDEgMTAyMi4yNkM5NzEuMjQxIDc1NS40NzMgMTE4Ny41MSA1MzkuMjEzIDE0NTQuMyA1MzkuMjEzQzE3MjEuMDkgNTM5LjIxMyAxOTM3LjM2IDc1NS40NzMgMTkzNy4zNiAxMDIyLjI2WiIgZmlsbD0iI0ExQUVCMCIvPgo8L3N2Zz4K":t,alt:r,width:l,height:a,className:"rounded-full object-cover "+c+" "+(d?"fallback-avatar":""),onLoad:()=>o(!0),onError:()=>M(!0),loading:"lazy"})}}}]);
//# sourceMappingURL=component---src-pages-cms-members-tsx-ba927f5febe19e587a38.js.map