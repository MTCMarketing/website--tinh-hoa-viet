"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6861],{7:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=a(6540),l=a(3),r=a(6459),i=a(7659),o=a(6898);const c=i.A["aid-cuisine"],s=function(){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=console).log.apply(e,["%c[CHECKOUT]","color:#FFD700; font-weight:bold;"].concat(a))};var m=()=>{s("üîÑ Component RENDER START");const{0:e,1:t}=(0,n.useState)(null),{0:a,1:i}=(0,n.useState)(!0),{0:m,1:d}=(0,n.useState)("EN"),{0:u,1:h}=(0,n.useState)(!1),{0:g,1:y}=(0,n.useState)(!1),{0:E,1:p}=(0,n.useState)(null),{0:N,1:f}=(0,n.useState)(null),{0:v,1:b}=(0,n.useState)(!1),{0:T,1:I}=(0,n.useState)("I"),C=c[m],S=!a,k=S&&!!e;s("üñ® AUTH SNAPSHOT",{user:e,authLoading:a,hydrated:S,isLoggedInSafe:k});(0,n.useEffect)(()=>{s("üîê AUTH EFFECT MOUNTED");let e=!1;(async()=>{s("üîê Calling supabase.auth.getSession()‚Ä¶");try{var a;const{data:n,error:l}=await o.ND.auth.getSession();if(s("üîê getSession() result:",{data:n,error:l}),e)return;null!=n&&null!==(a=n.session)&&void 0!==a&&a.user?t(n.session.user):t(null),i(!1)}catch(n){t(null),i(!1)}})();const{data:a}=o.ND.auth.onAuthStateChange((e,a)=>{null!=a&&a.user?t(a.user):t(null),i(!1)});return()=>{e=!0,a.subscription.unsubscribe()}},[]),(0,n.useEffect)(()=>{if(!e)return;const t=o.ND.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},t=>{try{const a=t.new.event_type,n=t.new.payload;if("vietqr_callback"!==a)return;if((null==n?void 0:n.orderId)!==e.id)return;y(!0),p(null),f(n.transactionid||null)}catch(a){}}).subscribe();return()=>{o.ND.removeChannel(t)}},[null==e?void 0:e.id]);return n.createElement("div",{className:"auth-shell"},n.createElement("aside",{className:"brand-side"},n.createElement("div",{className:"brand-sheen"}),n.createElement("div",{className:"brand-pattern"}),n.createElement("div",{className:"brand-wrap"},n.createElement("h1",{className:"brand-name"},C.brandTitle),n.createElement("p",{className:"brand-tag"},C.tagline),n.createElement("ul",{className:"brand-features"},C.features.map((e,t)=>n.createElement("li",{key:t,className:"feature"},n.createElement("span",{className:"tick"},"‚úì"),n.createElement("span",null,e)))))),n.createElement("main",{className:"form-side"},n.createElement("header",{className:"form-top"},n.createElement("div",{className:"lang-switch"},n.createElement("button",{className:"lang "+("EN"===m?"active":""),onClick:()=>d("EN")},C.langEN),n.createElement("span",{className:"mid"},"|"),n.createElement("button",{className:"lang "+("VN"===m?"active":""),onClick:()=>d("VN")},C.langVN))),n.createElement("section",{className:"form-wrap",style:{color:"var(--off-white)"}},n.createElement("div",{className:"intro"},n.createElement("h2",{className:"title",style:{color:"var(--off-white)"}},C.title),n.createElement("p",{className:"subtitle",style:{color:"var(--light-gray)"}},C.subtitle)),n.createElement("div",{className:"auth-form",style:{textAlign:"center"}},n.createElement("div",{className:"field"},n.createElement("h3",{style:{color:"var(--gold-2)",fontSize:22,marginBottom:6}},C.eventName),n.createElement("p",{style:{color:"var(--off-white)"}},C.date),n.createElement("p",{style:{color:"var(--off-white)"}},C.location),n.createElement("p",{style:{fontWeight:700,marginTop:10,color:"var(--off-white)",fontSize:"1.1rem"}},"EN"===m?"Ticket Price: ":"Gi√° v√©: ","I"===T||"II"===T?"200.000‚Ç´":"III"===T?"400.000‚Ç´":"‚Äî")),n.createElement("div",{style:{marginTop:25,marginBottom:25}},n.createElement("h4",{style:{fontWeight:700,marginBottom:12,color:"var(--gold-2)"}},"EN"===m?"Choose Entry Category":"Ch·ªçn H·∫°ng M·ª•c Tham Gia"),n.createElement("div",{style:{display:"flex",flexDirection:"column",gap:12}},n.createElement("label",{onClick:()=>I("I"),style:{padding:"14px 18px",borderRadius:12,cursor:"pointer",display:"flex",alignItems:"center",gap:12,border:"I"===T?"2px solid var(--gold-2)":"1px solid var(--medium-gray)"}},n.createElement("span",{style:{fontSize:"1.6rem"}},"üì∏"),n.createElement("div",{style:{textAlign:"left",color:"var(--off-white)"}},n.createElement("div",{style:{fontWeight:700}},"EN"===m?'A.I PHOTOSET "FLAVORS OF THREE REGIONS"':'B·ªò ·∫¢NH A.I "H∆Ø∆†NG V·ªä BA MI·ªÄN"'),n.createElement("div",{style:{color:"var(--light-gray)",fontSize:"0.9rem"}},"200.000‚Ç´")),n.createElement("input",{type:"radio",checked:"I"===T,readOnly:!0,style:{marginLeft:"auto"}})),n.createElement("label",{onClick:()=>I("II"),style:{padding:"14px 18px",borderRadius:12,cursor:"pointer",display:"flex",alignItems:"center",gap:12,border:"II"===T?"2px solid var(--gold-2)":"1px solid var(--medium-gray)"}},n.createElement("span",{style:{fontSize:"1.6rem"}},"üé•"),n.createElement("div",{style:{textAlign:"left",color:"var(--off-white)"}},n.createElement("div",{style:{fontWeight:700}},"EN"===m?'A.I SHORT VIDEO "THE STORY OF VIETNAMESE CUISINE"':'VIDEO A.I NG·∫ÆN "C√ÇU CHUY·ªÜN M√ìN ƒÇN VI·ªÜT"'),n.createElement("div",{style:{color:"var(--light-gray)",fontSize:"0.9rem"}},"200.000‚Ç´")),n.createElement("input",{type:"radio",checked:"II"===T,readOnly:!0,style:{marginLeft:"auto"}})),n.createElement("label",{onClick:()=>I("III"),style:{padding:"14px 18px",borderRadius:12,cursor:"pointer",display:"flex",alignItems:"center",gap:12,border:"III"===T?"2px solid var(--gold-2)":"1px solid var(--medium-gray)"}},n.createElement("span",{style:{fontSize:"1.6rem"}},"üéØ"),n.createElement("div",{style:{textAlign:"left",color:"var(--off-white)"}},n.createElement("div",{style:{fontWeight:700}},"EN"===m?"Both categories above":"C·∫£ hai h·∫°ng m·ª•c tr√™n"),n.createElement("div",{style:{color:"var(--light-gray)",fontSize:"0.9rem"}},"400.000‚Ç´")),n.createElement("input",{type:"radio",checked:"III"===T,readOnly:!0,style:{marginLeft:"auto"}})))),g?n.createElement("div",{style:{marginTop:20,color:"var(--gold-2)",fontWeight:700,display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement("div",{style:{display:"flex",alignItems:"center",gap:8}},n.createElement(l.A3x,{size:22})," ",C.success),N&&n.createElement("p",{style:{marginTop:4,color:"var(--off-white)"}},"Transaction ID: ",n.createElement("strong",null,N))):n.createElement(n.Fragment,null,E&&(E.qrDataURL||E.qrCode)&&n.createElement("div",{style:{marginTop:20}},n.createElement(r.X,{value:E.qrDataURL||E.qrCode,size:220,includeMargin:!0}),n.createElement("p",{style:{marginTop:12,color:"var(--gold-2)"}},"Scan this code to complete your payment.")),E?n.createElement("button",{className:"cta",onClick:async()=>{if(!E)return void alert("No QR code available.");const e={bankAccount:E.bankAccount,content:E.content,amount:E.amount,bankCode:E.bankCode,transType:"C"};try{b(!0);const t=await fetch("https://integrations.tinhhoaviet.org.vn/vietqr/test-success",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log(await t.text())}catch(t){}finally{b(!1)}},disabled:v,style:{backgroundColor:"#00b37a",marginTop:10,opacity:v?.7:1}},v?"‚è≥":C.testBtn):n.createElement("button",{className:"cta",onClick:async()=>{if(k&&e)try{h(!0),console.log(e.email);const t=await fetch("https://integrations.tinhhoaviet.org.vn/vietqr/payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,user_email:e.email,ticket_type:T})});if(!t.ok)throw new Error("Payment request failed.");const a=await t.json();null!=a&&a.qrDataURL||null!=a&&a.qrCode||null!=a&&a.qrLink?p(a):alert("QR code missing in response.")}catch(t){alert("Payment failed.")}finally{h(!1)}else window.location.href="/sign-up"},disabled:u,style:{opacity:u?.6:1,cursor:u?"not-allowed":"pointer"}},n.createElement("span",null,S?k?u?C.loading:C.payBtn:"EN"===m?"Login / Sign Up":"ƒêƒÉng nh·∫≠p / ƒêƒÉng k√Ω":"Checking login..."),k&&!u&&S&&n.createElement(l.dyV,{className:"arrow"})))))))},d=()=>n.createElement(m,null)},7659:function(e,t,a){a.d(t,{A:function(){return n}});const n={test:{EN:{brandTitle:"TINH HOA VI·ªÜT",tagline:"Where Vietnamese Excellence Meets Global Recognition",features:["Exclusive Gala Event","Cultural Performances","Networking with Honorees"],title:"Event Ticket Payment",subtitle:"Complete your payment to confirm your attendance",eventName:"Vietnamese Excellence Gala 2025",date:"December 10, 2025 ‚Äì 7:00 PM",location:"Saigon Opera House, Ho Chi Minh City",price:"Ticket Price: 500,000‚Ç´",payBtn:"Pay Now",loading:"Processing payment...",success:"Payment Confirmed! Thank you.",testBtn:"Test Pay",langEN:"EN",langVN:"VN"},VN:{brandTitle:"TINH HOA VI·ªÜT",tagline:"N∆°i t√¥n vinh tinh hoa Vi·ªát Nam v∆∞∆°n t·∫ßm qu·ªëc t·∫ø",features:["S·ª± ki·ªán Gala ƒë·ªôc quy·ªÅn","Bi·ªÉu di·ªÖn vƒÉn h√≥a","K·∫øt n·ªëi c√πng c√°c tinh hoa"],title:"Thanh To√°n V√© S·ª± Ki·ªán",subtitle:"Ho√†n t·∫•t thanh to√°n ƒë·ªÉ x√°c nh·∫≠n tham d·ª±",eventName:"Gala Tinh Hoa Vi·ªát 2025",date:"10/12/2025 ‚Äì 19:00",location:"Nh√† h√°t Th√†nh ph·ªë, TP. H·ªì Ch√≠ Minh",price:"Gi√° v√©: 500,000‚Ç´",payBtn:"Thanh to√°n ngay",loading:"ƒêang x·ª≠ l√Ω thanh to√°n...",success:"Thanh to√°n th√†nh c√¥ng! C·∫£m ∆°n b·∫°n.",testBtn:"Ki·ªÉm tra thanh to√°n (Portal)",langEN:"EN",langVN:"VN"}},"aid-cuisine":{EN:{brandTitle:"TINH HOA VI·ªÜT",tagline:"Where Vietnamese Excellence Meets Global Recognition",features:["Exclusive Gala Event","Cultural Performances","Networking with Honorees"],title:"Event Ticket Payment",subtitle:"Complete your payment to confirm your attendance",eventName:"A.I Director Journey ‚Äì Vietnamese Culinary Heritage Promotion",date:"November 16, 2025 ‚Äì December 19, 2025",location:"Vietnam",price:"Ticket Price: 200,000‚Ç´",payBtn:"Pay Now",loading:"Processing payment...",success:"Payment Confirmed! Thank you.",testBtn:"Test Pay",langEN:"EN",langVN:"VN"},VN:{brandTitle:"TINH HOA VI·ªÜT",tagline:"N∆°i t√¥n vinh tinh hoa Vi·ªát Nam v∆∞∆°n t·∫ßm qu·ªëc t·∫ø",features:["S·ª± ki·ªán Gala ƒë·ªôc quy·ªÅn","Bi·ªÉu di·ªÖn vƒÉn h√≥a","K·∫øt n·ªëi c√πng c√°c tinh hoa"],title:"H√†nh tr√¨nh t√¨m ki·∫øm v√† vinh danh ƒê·∫°o di·ªÖn A.I",subtitle:"Ch·ªß ƒë·ªÅ cu·ªôc thi: Qu·∫£ng b√° N√©t ƒë·∫πp ·∫®m th·ª±c Vi·ªát Nam",eventName:"H√†nh tr√¨nh ƒê·∫°o di·ªÖn A.I ‚Äì Qu·∫£ng b√° ·∫®m th·ª±c Vi·ªát Nam",date:"16/11/2025 ‚Äì 19/12/2025",location:"Vi·ªát Nam",price:"Gi√° v√©: 200,000‚Ç´",payBtn:"Thanh to√°n ngay",loading:"ƒêang x·ª≠ l√Ω thanh to√°n...",success:"Thanh to√°n th√†nh c√¥ng! C·∫£m ∆°n b·∫°n.",testBtn:"Ki·ªÉm tra thanh to√°n (Portal)",langEN:"EN",langVN:"VN"}}}}}]);
//# sourceMappingURL=component---src-pages-event-[event-id]-checkout-tsx-f59e5cb6f5f9495b8e6e.js.map