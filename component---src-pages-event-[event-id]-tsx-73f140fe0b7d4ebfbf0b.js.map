{"version":3,"file":"component---src-pages-event-[event-id]-tsx-73f140fe0b7d4ebfbf0b.js","mappings":"+PA8IA,UA/G8CA,KAAM,MAClD,MACMC,GADWC,EAAAA,EAAAA,eACUC,SAASC,MAAM,KAAK,IACzC,EAACC,EAAS,EAAEC,IAAgBC,EAAAA,EAAAA,UAA2B,OACvD,EAACC,EAAO,EAAEC,IAAcF,EAAAA,EAAAA,WAAS,IAEvCG,EAAAA,EAAAA,WAAU,KAqBJT,GApBcU,WAChBF,GAAW,GAEX,MAAM,KAAEG,EAAI,MAAEC,SAAgBC,EAAAA,GAC3BC,KAAK,UACLC,OAAO,KACPC,GAAG,WAAYhB,GACfiB,MAAM,GACNC,SAECN,GACFO,QAAQP,MAAM,wBAAyBA,EAAMQ,SAC7Cf,EAAa,OAEbA,EAAaM,GAGfH,GAAW,IAGEa,IACd,CAACrB,IAOJ,OAAIO,EAEAe,EAAAA,cAAAA,OAAAA,CACEC,MAAO,CACLC,WAAY,UACZC,UAAW,QACXC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,MAAO,SAGTP,EAAAA,cAACQ,EAAAA,EAAM,MACPR,EAAAA,cAAAA,MAAAA,KAAK,4BACLA,EAAAA,cAACS,EAAAA,EAAM,OAKR3B,EAoCHkB,EAAAA,cAAAA,OAAAA,CAAMC,MAAO,CAAEC,WAAY,UAAWC,UAAW,UAC/CH,EAAAA,cAACQ,EAAAA,EAAM,MACPR,EAAAA,cAACU,EAAAA,EAAS,CACRC,UAAW7B,EAAU8B,MACrBC,UAAW,IAAIC,KAAKhC,EAAUiC,YAAYC,qBAC1CC,SAAS,UACTC,iBAAkBpC,EAAUqC,QAAU,EAAI,IAC1CC,eAAiC,QAAlB,EAAAtC,EAAUuC,gBAAQ,aAAlBC,EAAoBC,SAAU,EAC7CC,gBApEwBC,KAC5B,MAAMC,EAAKC,SAASC,eAAe,WAC/BF,GAAIA,EAAGG,eAAe,CAAEC,SAAU,cAoEpC9B,EAAAA,cAAC+B,EAAAA,EAAY,CAAC1C,MAAMP,aAAS,EAATA,EAAWkD,QAAS,CAAEC,YAAa,gCACvDjC,EAAAA,cAACkC,EAAAA,EAAa,CAACb,UAAUvC,aAAS,EAATA,EAAWuC,WAAY,KAChDrB,EAAAA,cAACmC,EAAAA,EAAe,CAACC,UAAUtD,aAAS,EAATA,EAAWsD,WAAY,KAClDpC,EAAAA,cAACqC,EAAAA,EAAmB,CAACC,cAAcxD,aAAS,EAATA,EAAWwD,eAAgB,KAC9DtC,EAAAA,cAACuC,EAAAA,EAAS,CAACC,SAAS1D,aAAS,EAATA,EAAW0D,UAAW,KAC1CxC,EAAAA,cAACyC,EAAAA,EAAc,CAACC,WAAW5D,aAAS,EAATA,EAAW4D,YAAa,KACnD1C,EAAAA,cAACS,EAAAA,EAAM,OAlDPT,EAAAA,cAAAA,OAAAA,CACEC,MAAO,CACLC,WAAY,UACZC,UAAW,QACXC,QAAS,OACTC,WAAY,SACZC,eAAgB,WAGlBN,EAAAA,cAACQ,EAAAA,EAAM,MACPR,EAAAA,cAAAA,MAAAA,CACEC,MAAO,CACLM,MAAO,QACPoC,UAAW,SACXC,QAAS,SAGX5C,EAAAA,cAAAA,KAAAA,CACEC,MAAO,CACL4C,SAAU,OACVC,aAAc,OACdvC,MAAO,YAEV,mBAGDP,EAAAA,cAAAA,IAAAA,KAAG,8DAELA,EAAAA,cAACS,EAAAA,EAAM,QA6BR,MAAMsC,EAAOC,IAAsD,IAArD,SAAE/B,GAA8C,EACnE,MAAMvC,EAAYuC,EAASrC,SAASC,MAAM,KAAK,GAC/C,OACEmB,EAAAA,cAAAA,EAAAA,SAAAA,KACEA,EAAAA,cAAAA,QAAAA,KAAQtB,EAAeA,EAAS,WAAa,QAAQ,oBACrDsB,EAAAA,cAAAA,OAAAA,CAAMiD,KAAK,cAAcC,QAAO,oCAAsCxE,K","sources":["webpack:///./src/pages/event/[event-id].tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { PageProps } from \"gatsby\";\nimport { useLocation } from \"@reach/router\";\nimport Header from \"../../componets/header/Header\";\nimport Footer from \"../../componets/footer/Footer\";\nimport EventHero from \"../../componets/EventHero/EventHero\";\nimport EventSection from \"../../componets/EventAbout/EventAbout\";\nimport SponsorsSection from \"../../componets/SponsorsSection/SponsorsSection\";\nimport TestimonialsSection from \"../../componets/TestimonialsSection\";\nimport EventSpeakers from \"../../componets/EventSpeakers/EventSpeakers\";\nimport PriceList from \"../../componets/PriceList/PriceList\";\nimport EventAttendees from \"../../componets/EventAttendees/EventAttendees\";\nimport { supabase } from \"../../database/supabaseClient\";\n\ninterface EventData {\n  id: string;\n  event: string;\n  event_id: string;\n  paid: boolean;\n  used: string | null;\n  is_used: boolean;\n  created_at: string;\n  about?: any;\n  speakers?: any[];\n  sponsors?: any[];\n  testimonials?: any[];\n  pricing?: any[];\n  attendees?: any[];\n}\n\nconst DynamicEventPage: React.FC<PageProps> = () => {\n  const location = useLocation();\n  const eventSlug = location.pathname.split(\"/\")[2]; // e.g. /event/song-viet-nam\n  const [eventData, setEventData] = useState<EventData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadEvent = async () => {\n      setLoading(true);\n      // 🔍 Fetch from Supabase (read-only for authenticated users)\n      const { data, error } = await supabase\n        .from(\"events\")\n        .select(\"*\")\n        .eq(\"event_id\", eventSlug)\n        .limit(1)\n        .single();\n\n      if (error) {\n        console.error(\"Error fetching event:\", error.message);\n        setEventData(null);\n      } else {\n        setEventData(data as EventData);\n      }\n\n      setLoading(false);\n    };\n\n    if (eventSlug) loadEvent();\n  }, [eventSlug]);\n\n  const handleScrollToPricing = () => {\n    const el = document.getElementById(\"pricing\");\n    if (el) el.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  if (loading) {\n    return (\n      <main\n        style={{\n          background: \"#1A202C\",\n          minHeight: \"100vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#fff\",\n        }}\n      >\n        <Header />\n        <div>Loading event details...</div>\n        <Footer />\n      </main>\n    );\n  }\n\n  if (!eventData) {\n    return (\n      <main\n        style={{\n          background: \"#1A202C\",\n          minHeight: \"100vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Header />\n        <div\n          style={{\n            color: \"white\",\n            textAlign: \"center\",\n            padding: \"2rem\",\n          }}\n        >\n          <h1\n            style={{\n              fontSize: \"2rem\",\n              marginBottom: \"1rem\",\n              color: \"#D1A12A\",\n            }}\n          >\n            Event Not Found\n          </h1>\n          <p>The event you’re looking for doesn’t exist or is private.</p>\n        </div>\n        <Footer />\n      </main>\n    );\n  }\n\n  return (\n    <main style={{ background: \"#1A202C\", minHeight: \"100vh\" }}>\n      <Header />\n      <EventHero\n        eventName={eventData.event}\n        eventDate={new Date(eventData.created_at).toLocaleDateString()}\n        location=\"Vietnam\" // optional static or fetched later\n        remainingTickets={eventData.is_used ? 0 : 100}\n        speakersCount={eventData.speakers?.length || 0}\n        onRegisterClick={handleScrollToPricing}\n      />\n      <EventSection data={eventData?.about || { description: \"Event details coming soon.\" }} />\n      <EventSpeakers speakers={eventData?.speakers || []} />\n      <SponsorsSection sponsors={eventData?.sponsors || []} />\n      <TestimonialsSection testimonials={eventData?.testimonials || []} />\n      <PriceList pricing={eventData?.pricing || []} />\n      <EventAttendees attendees={eventData?.attendees || []} />\n      <Footer />\n    </main>\n  );\n};\n\nexport default DynamicEventPage;\n\nexport const Head = ({ location }: { location: { pathname: string } }) => {\n  const eventSlug = location.pathname.split(\"/\")[2];\n  return (\n    <>\n      <title>{eventSlug ? `${eventSlug} - Event` : \"Event\"} | Tinh Hoa Việt</title>\n      <meta name=\"description\" content={`Information and registration for ${eventSlug}`} />\n    </>\n  );\n};\n"],"names":["DynamicEventPage","eventSlug","useLocation","pathname","split","eventData","setEventData","useState","loading","setLoading","useEffect","async","data","error","supabase","from","select","eq","limit","single","console","message","loadEvent","React","style","background","minHeight","display","alignItems","justifyContent","color","Header","Footer","EventHero","eventName","event","eventDate","Date","created_at","toLocaleDateString","location","remainingTickets","is_used","speakersCount","speakers","_eventData$speakers","length","onRegisterClick","handleScrollToPricing","el","document","getElementById","scrollIntoView","behavior","EventSection","about","description","EventSpeakers","SponsorsSection","sponsors","TestimonialsSection","testimonials","PriceList","pricing","EventAttendees","attendees","textAlign","padding","fontSize","marginBottom","Head","_ref","name","content"],"sourceRoot":""}