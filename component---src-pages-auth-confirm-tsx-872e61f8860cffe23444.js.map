{"version":3,"file":"component---src-pages-auth-confirm-tsx-872e61f8860cffe23444.js","mappings":"8JAMe,SAASA,IACtB,MAAM,EAACC,EAAM,EAAEC,IAAaC,EAAAA,EAAAA,UAAS,gBAoCrC,OAlCAC,EAAAA,EAAAA,WAAU,KACaC,WACnB,IACE,MAAMC,EAAM,IAAIC,IAAIC,OAAOC,SAASC,MAC9BC,EAAaL,EAAIM,aAAaC,IAAI,cAClCC,EAAaR,EAAIM,aAAaC,IAAI,SAAW,QAEnD,IAAKF,EAEH,YADAT,EAAU,uBAKZ,MAAM,KAAEa,EAAI,MAAEC,SAAgBC,EAAAA,GAASC,KAAKC,UAAU,CACpDR,aACAG,SAGEE,GACFI,QAAQJ,MAAMA,GACdd,EAAU,wBAAwBc,EAAMK,WAExCD,QAAQE,IAAI,YAAaP,GACzBb,EAAU,mCAEd,CAAE,MAAOqB,GACPH,QAAQJ,MAAMO,GACdrB,EAAU,oCACZ,GAGFsB,IACC,IAGDC,EAAAA,cAAAA,MAAAA,CAAKC,MAAO,CACVC,WAAY,aACZC,UAAW,SACXC,UAAW,OACXC,MAAO,YAEPL,EAAAA,cAAAA,KAAAA,KAAI,oCACJA,EAAAA,cAAAA,IAAAA,KAAIxB,GAGV,C","sources":["webpack:///./src/pages/auth/confirm.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport React from \"react\"\nimport { supabase } from \"../../database/supabaseClient\"\n\n\n\nexport default function ConfirmEmail() {\n  const [status, setStatus] = useState(\"Verifying...\")\n\n  useEffect(() => {\n    const confirmEmail = async () => {\n      try {\n        const url = new URL(window.location.href)\n        const token_hash = url.searchParams.get(\"token_hash\")\n        const type : any = url.searchParams.get(\"type\") || \"email\"\n\n        if (!token_hash) {\n          setStatus(\"Missing token hash.\")\n          return\n        }\n\n        // Call Supabase verification endpoint\n        const { data, error } = await supabase.auth.verifyOtp({\n          token_hash,\n          type,\n        })\n\n        if (error) {\n          console.error(error)\n          setStatus(`Verification failed: ${error.message}`)\n        } else {\n          console.log(\"Verified:\", data)\n          setStatus(\"✅ Email confirmed successfully!\")\n        }\n      } catch (err: any) {\n        console.error(err)\n        setStatus(\"Unexpected error verifying token.\")\n      }\n    }\n\n    confirmEmail()\n  }, [])\n\n  return (\n    <div style={{\n      fontFamily: \"sans-serif\",\n      textAlign: \"center\",\n      marginTop: \"15vh\",\n      color: \"#0a0a0a\"\n    }}>\n      <h1>Tinh Hoa Việt Email Verification</h1>\n      <p>{status}</p>\n    </div>\n  )\n}\n"],"names":["ConfirmEmail","status","setStatus","useState","useEffect","async","url","URL","window","location","href","token_hash","searchParams","get","type","data","error","supabase","auth","verifyOtp","console","message","log","err","confirmEmail","React","style","fontFamily","textAlign","marginTop","color"],"sourceRoot":""}