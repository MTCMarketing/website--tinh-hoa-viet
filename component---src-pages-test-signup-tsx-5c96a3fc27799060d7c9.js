"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5536],{599:function(e,t,a){a.d(t,{T4:function(){return i},mg:function(){return l},tp:function(){return u},vM:function(){return s},vx:function(){return r}});var n=a(6634),o=a(6898);const r=async function(e){let{onSuccess:t,onFail:a}=void 0===e?{}:e;console.log("ðŸ” Logging outâ€¦"),(0,n.nR)();const{error:r}=await o.ND.auth.signOut();if(r)return console.error("âŒ Logout error:",r),null==a?void 0:a(r.message);(0,n.nR)(),localStorage.removeItem("__thv_valid_supabase_keys__"),null==t||t()},s=async e=>{let{email:t,password:a,fullName:n,onSuccess:r,onFail:s}=e;const{data:l,error:i}=await o.ND.auth.signUp({email:t,password:a,options:{data:{full_name:n||"unknown",signup_source:"thv-web"}}});i?null==s||s(i.message):null==r||r()},l=async e=>{let{email:t,password:a,onSuccess:n,onFail:r}=e;const{data:s,error:l}=await o.ND.auth.signInWithPassword({email:t,password:a});l?null==r||r(l.message):null==n||n()},i=async e=>{let{email:t,onSuccess:a,onFail:n}=e;const{data:r,error:s}=await o.ND.auth.resetPasswordForEmail(t);s?null==n||n(s.message):null==a||a()},u=async e=>{let{newPassword:t,onSuccess:a,onFail:n}=e;const{data:r,error:s}=await o.ND.auth.updateUser({password:t});s?null==n||n(s.message):null==a||a()}},6634:function(e,t,a){function n(){return Object.keys(localStorage).filter(e=>e.startsWith("sb-")&&e.includes("-auth-token"))}function o(){const e=n();if(0===e.length)return;const t={};e.forEach(e=>t[e]=localStorage.getItem(e)||""),localStorage.setItem("__thv_valid_supabase_keys__",JSON.stringify(t))}function r(){const e=localStorage.getItem("__thv_valid_supabase_keys__");if(!e)return;const t=JSON.parse(e);Object.keys(t).forEach(e=>{localStorage.getItem(e)||(console.log("ðŸ›  Restoring missing Supabase key:",e),localStorage.setItem(e,t[e]))})}function s(){const e=JSON.parse(localStorage.getItem("__thv_valid_supabase_keys__")||"{}");n().forEach(t=>{e[t]||(console.log("ðŸ§¨ Removing stale Supabase key:",t),localStorage.removeItem(t))})}a.d(t,{ID:function(){return r},Uf:function(){return o},nR:function(){return s}})},8036:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var n=a(6540),o=a(5268),r=a(599);function s(){const{0:e,1:t}=(0,n.useState)(""),{0:a,1:s}=(0,n.useState)(""),{0:l,1:i}=(0,n.useState)(""),u=()=>{i("âœ… Check your email for a verification link!"),setTimeout(()=>(0,o.navigate)("/members/dashboard"),2e3)},c=e=>{i("âŒ "+(e||"Signup failed. Please try again."))};return n.createElement("div",{style:{maxWidth:400,margin:"auto",padding:20,display:"flex",flexDirection:"column",gap:10}},n.createElement("h2",{style:{textAlign:"center"}},"Create Account"),n.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,r.vM)({email:e,password:a,onSuccess:u,onFail:c})},style:{display:"flex",flexDirection:"column",gap:10}},n.createElement("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0,style:{padding:10,border:"1px solid #ccc",borderRadius:5}}),n.createElement("input",{type:"password",placeholder:"Password",value:a,onChange:e=>s(e.target.value),required:!0,style:{padding:10,border:"1px solid #ccc",borderRadius:5}}),n.createElement("button",{type:"submit",style:{padding:10,borderRadius:5,background:"#2E7D32",color:"#fff",border:"none",cursor:"pointer"}},"Sign Up")),l&&n.createElement("p",{style:{textAlign:"center",marginTop:10}},l))}}}]);
//# sourceMappingURL=component---src-pages-test-signup-tsx-5c96a3fc27799060d7c9.js.map