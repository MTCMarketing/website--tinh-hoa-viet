"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8372],{2479:function(e,t,n){var r=n(6540),a=n(6898),l=n(5268);t.A=e=>{let{children:t,role:n="member",redirect:o="/members/dashboard"}=e;const{0:s,1:i}=(0,r.useState)(null),{0:c,1:u}=(0,r.useState)(null),{0:d,1:f}=(0,r.useState)(!0),{0:m,1:g}=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{f(!0);try{var e,t;const{data:r}=await a.ND.auth.getSession(),o=r.session;if(i(o),null==o||!o.user)return(0,l.navigate)("/sign-in"),g(!1),void u(null);const s=null!==(e=null===(t=o.user.user_metadata)||void 0===t?void 0:t.role)&&void 0!==e?e:"member";if(u(s),"string"==typeof n)g(s===n||"member"===n&&!!s);else{const e=n[s];g(!!e)}}catch(r){console.error("RoleRoutes check error:",r),g(!1)}finally{f(!1)}})()},[n]);const p={allowed:m,loading:d,session:s,role:c};return"function"==typeof t?r.createElement(r.Fragment,null,t(p)):((0,r.useEffect)(()=>{if(!d&&c)if("string"==typeof n)m||(0,l.navigate)(o);else{const e=n[c];e?!m&&e.onFalse?(0,l.navigate)(e.onFalse):m&&e.onTrue&&(0,l.navigate)(e.onTrue):(0,l.navigate)(o)}},[d,m,c,n,o]),d?null:m||"string"!=typeof n?r.createElement(r.Fragment,null,t):null)}},5442:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(6540),a=n(2479);function l(){return r.createElement(a.A,{role:"member"},e=>{let{allowed:t,loading:n,role:a}=e;return r.createElement("div",{style:{background:"#fff",color:"#000",minHeight:"100vh",fontFamily:"system-ui, sans-serif",padding:24}},r.createElement("h1",null,"ğŸ›¡ï¸ Admin Access Verification"),r.createElement("p",{style:{color:"#444",marginBottom:24}},"This page shows whether the current user has admin-level access."),r.createElement("div",{style:{background:t?"#e7ffe7":n?"#ffffe7":"#ffe7e7",border:t?"2px solid #0a0":n?"2px solid #aa0":"2px solid #f33",padding:20,borderRadius:8,color:t?"#064a06":n?"#665500":"#8a0000",fontWeight:"bold",textAlign:"center",transition:"all 0.3s ease"}},n?"â³ Checking access...":t?"âœ… Access granted â€” you are a member (at least).":"âŒ Access denied â€” you are NOT a member (at least)"),r.createElement("div",{style:{marginTop:40,borderTop:"1px solid #ccc",paddingTop:20}},r.createElement("h3",null,"ğŸ‘¤ Current Role"),r.createElement("pre",{style:{background:"#111",color:"#0f0",padding:12,borderRadius:6,fontFamily:"monospace",fontSize:12}},JSON.stringify({role:a},null,2))))})}}}]);
//# sourceMappingURL=component---src-pages-test-role-members-at-least-tsx-b67881ed4a31e3c8be7e.js.map