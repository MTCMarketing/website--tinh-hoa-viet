{"version":3,"file":"component---src-pages-event-[event-id]-tsx-aec2c8619fe25e87b56b.js","mappings":"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","sources":["webpack:///./src/pages/event/[event-id].tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { PageProps } from \"gatsby\";\nimport { useLocation } from \"@reach/router\";\nimport Header from \"../../componets/header/Header\";\nimport Footer from \"../../componets/footer/Footer\";\nimport EventHero from \"../../componets/EventHero/EventHero\";\nimport EventSection from \"../../componets/EventAbout/EventAbout\";\nimport SponsorsSection from \"../../componets/SponsorsSection/SponsorsSection\";\nimport TestimonialsSection from \"../../componets/TestimonialsSection\";\nimport EventSpeakers from \"../../componets/EventSpeakers/EventSpeakers\";\nimport PriceList from \"../../componets/PriceList/PriceList\";\nimport EventAttendees from \"../../componets/EventAttendees/EventAttendees\";\nimport { supabase } from \"../../database/supabaseClient\";\nimport { useLanguage } from \"../../context/LanguageContext\";\nimport { getContent } from \"../../content/content\";\n\ninterface EventData {\n  id: string;\n  event: string;\n  event_id: string;\n  paid: boolean;\n  used: string | null;\n  is_used: boolean;\n  created_at: string;\n  about?: any;\n  speakers?: any[];\n  sponsors?: any[];\n  testimonials?: any[];\n  pricing?: any[];\n  attendees?: any[];\n}\n\nconst DynamicEventPage: React.FC<PageProps> = () => {\n  const location = useLocation();\n  const { lang } = useLanguage();\n  const content = getContent(lang);\n  const eventSlug = location.pathname.split(\"/\")[2]; // e.g. /event/song-viet-nam\n  const [eventData, setEventData] = useState<EventData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadEvent = async () => {\n      setLoading(true);\n      // ðŸ” Fetch from Supabase (read-only for authenticated users)\n      const { data, error } = await supabase\n        .from(\"events\")\n        .select(\"*\")\n        .eq(\"event_id\", eventSlug)\n        .limit(1)\n        .single();\n\n      if (error) {\n        console.error(\"Error fetching event:\", error.message);\n        setEventData(null);\n      } else {\n        setEventData(data as EventData);\n      }\n\n      setLoading(false);\n    };\n\n    if (eventSlug) loadEvent();\n  }, [eventSlug]);\n\n  const handleScrollToPricing = () => {\n    const el = document.getElementById(\"pricing\");\n    if (el) el.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  if (loading) {\n    return (\n      <main\n        style={{\n          background: \"#1A202C\",\n          minHeight: \"100vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#fff\",\n        }}\n      >\n        <Header content={content?.pages?.globals?.section?.headerContent} />\n        <div>Loading event details...</div>\n        <Footer content={content?.pages?.globals?.section?.footerContent} />\n      </main>\n    );\n  }\n\n  if (!eventData) {\n    return (\n      <main\n        style={{\n          background: \"#1A202C\",\n          minHeight: \"100vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Header content={content?.pages?.globals?.section?.headerContent} />\n        <div\n          style={{\n            color: \"white\",\n            textAlign: \"center\",\n            padding: \"2rem\",\n          }}\n        >\n          <h1\n            style={{\n              fontSize: \"2rem\",\n              marginBottom: \"1rem\",\n              color: \"#D1A12A\",\n            }}\n          >\n            Event Not Found\n          </h1>\n          <p>The event youâ€™re looking for doesnâ€™t exist or is private.</p>\n        </div>\n        <Footer content={content?.pages?.globals?.section?.footerContent} />\n      </main>\n    );\n  }\n\n  return (\n    <main style={{ background: \"#1A202C\", minHeight: \"100vh\" }}>\n      <Header content={content?.pages?.globals?.section?.headerContent} />\n      <EventHero\n        eventName={eventData.event}\n        eventDate={new Date(eventData.created_at).toLocaleDateString()}\n        location=\"Vietnam\" // optional static or fetched later\n        remainingTickets={eventData.is_used ? 0 : 100}\n        speakersCount={eventData.speakers?.length || 0}\n        onRegisterClick={handleScrollToPricing}\n      />\n      <EventSection data={eventData?.about || { description: \"Event details coming soon.\" }} />\n      <EventSpeakers speakers={eventData?.speakers || []} />\n      <SponsorsSection content={{ sponsors: eventData?.sponsors || [] }} />\n      <TestimonialsSection testimonials={eventData?.testimonials || []} />\n      <PriceList pricing={eventData?.pricing || []} />\n      <EventAttendees attendees={eventData?.attendees || []} />\n      <Footer content={content?.pages?.globals?.section?.footerContent} />\n    </main>\n  );\n};\n\nexport default DynamicEventPage;\n\nexport const Head = ({ location }: { location: { pathname: string } }) => {\n  const eventSlug = location.pathname.split(\"/\")[2];\n  return (\n    <>\n      <title>{eventSlug ? `${eventSlug} - Event` : \"Event\"} | Tinh Hoa Viá»‡t</title>\n      <meta name=\"description\" content={`Information and registration for ${eventSlug}`} />\n    </>\n  );\n};\n"],"names":["DynamicEventPage","location","useLocation","lang","useLanguage","content","getContent","eventSlug","pathname","split","eventData","setEventData","useState","loading","setLoading","useEffect","async","data","error","supabase","from","select","eq","limit","single","console","message","loadEvent","React","style","background","minHeight","display","alignItems","justifyContent","color","Header","pages","_content$pages","globals","_content$pages$global","section","_content$pages$global2","headerContent","Footer","_content$pages2","_content$pages2$globa","_content$pages2$globa2","footerContent","_content$pages5","_content$pages5$globa","_content$pages5$globa2","EventHero","eventName","event","eventDate","Date","created_at","toLocaleDateString","remainingTickets","is_used","speakersCount","speakers","_eventData$speakers","length","onRegisterClick","handleScrollToPricing","el","document","getElementById","scrollIntoView","behavior","EventSection","about","description","EventSpeakers","SponsorsSection","sponsors","TestimonialsSection","testimonials","PriceList","pricing","EventAttendees","attendees","_content$pages6","_content$pages6$globa","_content$pages6$globa2","_content$pages3","_content$pages3$globa","_content$pages3$globa2","textAlign","padding","fontSize","marginBottom","_content$pages4","_content$pages4$globa","_content$pages4$globa2","Head","_ref","name"],"sourceRoot":""}