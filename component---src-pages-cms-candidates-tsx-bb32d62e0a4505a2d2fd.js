/*! For license information please see component---src-pages-cms-candidates-tsx-bb32d62e0a4505a2d2fd.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2585],{81:function(e,t,n){var r=n(9565),a=n(9306),o=n(8551),l=n(6823),i=n(851),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?i(e):t;if(a(n))return o(r(n,e));throw new c(l(e)+" is not iterable")}},851:function(e,t,n){var r=n(6955),a=n(5966),o=n(4117),l=n(6269),i=n(8227)("iterator");e.exports=function(e){if(!o(e))return a(e,i)||a(e,"@@iterator")||l[r(e)]}},2140:function(e,t,n){var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},2652:function(e,t,n){var r=n(6080),a=n(9565),o=n(8551),l=n(6823),i=n(4209),c=n(6198),u=n(1625),s=n(81),d=n(851),p=n(9539),m=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,n){var E,h,v,y,w,b,F,x=n&&n.that,S=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_RECORD),D=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),C=r(t,x),P=function(e){return E&&p(E,"normal"),new f(!0,e)},R=function(e){return S?(o(e),T?C(e[0],e[1],P):C(e[0],e[1])):T?C(e,P):C(e)};if(A)E=e.iterator;else if(D)E=e;else{if(!(h=d(e)))throw new m(l(e)+" is not iterable");if(i(h)){for(v=0,y=c(e);y>v;v++)if((w=R(e[v]))&&u(g,w))return w;return new f(!1)}E=s(e,h)}for(b=A?e.next:E.next;!(F=a(b,E)).done;){try{w=R(F.value)}catch(k){p(E,"throw",k)}if("object"==typeof w&&w&&u(g,w))return w}return new f(!1)}},2731:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(6540),a=n(2479),o=n(1302),l=n(362),i=n(6462),c=n(2806),u=e=>{let{candidatesData:t}=e;const n=t||{},a=(null==n?void 0:n.rows)||[];if(!a.length)return r.createElement("div",{style:{padding:40,textAlign:"center",color:"#888"}},"âš ï¸ No candidates found.");const{URL_REWRITING:o}=(0,c.W)();return r.createElement("section",{style:{position:"relative"}},r.createElement("style",null,l.P),r.createElement("div",{className:"table-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid var(--border)"}},r.createElement("div",null,r.createElement("strong",null,"Candidates"),r.createElement("div",{style:{fontSize:"11px",color:"var(--muted)"}},"Showing ",a.length," total"))),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Timestamp"),r.createElement("th",null,"Name"),r.createElement("th",null,"Role"),r.createElement("th",null,"Organization"),r.createElement("th",null,"Email"),r.createElement("th",null,"Website"),r.createElement("th",null,"Impact"),r.createElement("th",null,"ID"))),r.createElement("tbody",null,a.map((e,t)=>r.createElement("tr",{key:e.id||t,style:{cursor:"pointer"},onClick:()=>(e=>{var t;const n=String(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"unknown"),r=encodeURIComponent(n);if(o){let t="";const n=new URLSearchParams;for(const[r,l]of Object.entries(e)){if(null==l)continue;let e=String(l).trim();if(e=e.replace(/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[\0-,\.-9;-\u2012\u2014-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+[\x2D:\u2013][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,"").trim(),/^\/\//.test(e)&&(e="https:"+e),/^https?:\/\//i.test(e)){const a=btoa(e);n.append(r,a),t+="&"+r+"=b64("+a+")"}else n.append(r,e),t+="&"+r+"="+e}const a=n.toString(),o="/cms/candidates/"+r+(a?"?"+a:"");console.group("ðŸ§  Candidate Navigation Debug"),console.log("ðŸ”¹ Raw Candidate:",e),console.log("ðŸ”¹ Build String (debug):",t),console.log("ðŸ”¹ Encoded Query String:",a),console.log("ðŸš€ Full URL:",o),console.groupEnd(),(0,i.navigate)(o)}else console.group("ðŸ§­ State Navigation"),console.log("âž¡ï¸ Path:","/cms/candidates/"+r),console.log("ðŸ“¦ State:",e),console.groupEnd(),(0,i.navigate)("/cms/candidates/"+r,{state:{candidate:e}})})(e)},r.createElement("td",null,t+1),r.createElement("td",null,e.Timestamp||"â€”"),r.createElement("td",null,e.name||"â€”"),r.createElement("td",null,e["title-or-role-in-organization"]||"â€”"),r.createElement("td",null,e.organization||"â€”"),r.createElement("td",null,e.email||"â€”"),r.createElement("td",null,e.website?r.createElement("a",{href:e.website,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation()},e.website.replace("https://","")):"â€”"),r.createElement("td",null,e.impact||"â€”"),r.createElement("td",null,e.id||"â€”"))))))},s=n(9407);const d=(0,s.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,s.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);n(3921);const m="https://script.google.com/macros/s/AKfycbzdWXbM8Q_hBnKnk5LXj20A2CLmxBxI0uro5eNl2Yo7i9ShHrTBIJQy6Scz7Wu5g-xu8A/exec",f="hT_W8.pN-kQv7rZ~sD1y";async function g(e){const t=new URLSearchParams(Object.assign({password:f},Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[t,String(n)]})))),n=await fetch(m+"?"+t.toString());if(!n.ok)throw new Error("HTTP "+n.status+" - "+n.statusText);return await n.json()}function E(){const{0:e,1:t}=(0,r.useState)(null),{0:n,1:l}=(0,r.useState)({page:1,totalPages:1}),{0:i,1:c}=(0,r.useState)(!1);async function s(e){try{c(!0);const n=await async function(e){var t,n;void 0===e&&(e={});const r={mode:"pagination",page:null!==(t=e.page)&&void 0!==t?t:1,limit:null!==(n=e.limit)&&void 0!==n?n:10};return e.timestamp&&(r.timestamp=e.timestamp),await g(r)}({page:e,limit:10});t(n),l({page:n.page,totalPages:n.totalPages})}catch(n){console.error("ðŸ’¥ Failed to load candidates:",n)}finally{c(!1)}}(0,r.useEffect)(()=>{s(1)},[]);const m=()=>{n.page<n.totalPages&&s(n.page+1)},f=()=>{n.page>1&&s(n.page-1)};return r.createElement(a.A,{role:"admin"},r.createElement(o.A,null,()=>r.createElement(r.Fragment,null,i?r.createElement("div",{style:{padding:40,textAlign:"center"}},"â³ Loading candidatesâ€¦"):r.createElement(r.Fragment,null,r.createElement(u,{candidatesData:e}),e&&e.totalPages>1&&r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",padding:"12px",borderTop:"1px solid var(--border)"}},r.createElement("button",{onClick:f,disabled:n.page<=1,style:{opacity:n.page<=1?.5:1,cursor:n.page<=1?"not-allowed":"pointer"}},r.createElement(d,{size:14})," Prev"),r.createElement("span",{style:{fontSize:"12px"}},"Page ",n.page," / ",n.totalPages),r.createElement("button",{onClick:m,disabled:n.page>=n.totalPages,style:{opacity:n.page>=n.totalPages?.5:1,cursor:n.page>=n.totalPages?"not-allowed":"pointer"}},"Next ",r.createElement(p,{size:14})))))))}},2806:function(e,t,n){n.d(t,{W:function(){return a}});var r=n(6540);function a(e){if(void 0===e&&(e={}),"undefined"==typeof window)return e;const{0:t,1:n}=(0,r.useState)(e);return(0,r.useEffect)(()=>{const t=window.MAIN_CONTENT;t&&"object"==typeof t&&n(Object.assign({},e,t))},[]),t}},3921:function(e,t,n){var r=n(6518),a=n(2652),o=n(4659);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,function(e,n){o(t,e,n)},{AS_ENTRIES:!0}),t}})},4209:function(e,t,n){var r=n(8227),a=n(6269),o=r("iterator"),l=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||l[o]===e)}},4659:function(e,t,n){var r=n(3724),a=n(4913),o=n(6980);e.exports=function(e,t,n){r?a.f(e,t,o(0,n)):e[t]=n}},6080:function(e,t,n){var r=n(7476),a=n(9306),o=n(616),l=r(r.bind);e.exports=function(e,t){return a(e),void 0===t?e:o?l(e,t):function(){return e.apply(t,arguments)}}},6269:function(e){e.exports={}},6955:function(e,t,n){var r=n(2140),a=n(4901),o=n(2195),l=n(8227)("toStringTag"),i=Object,c="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=i(e),l))?n:c?o(t):"Object"===(r=o(t))&&a(t.callee)?"Arguments":r}},7476:function(e,t,n){var r=n(2195),a=n(9504);e.exports=function(e){if("Function"===r(e))return a(e)}},9539:function(e,t,n){var r=n(9565),a=n(8551),o=n(5966);e.exports=function(e,t,n){var l,i;a(e);try{if(!(l=o(e,"return"))){if("throw"===t)throw n;return n}l=r(l,e)}catch(c){i=!0,l=c}if("throw"===t)throw n;if(i)throw l;return a(l),n}}}]);
//# sourceMappingURL=component---src-pages-cms-candidates-tsx-bb32d62e0a4505a2d2fd.js.map