"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7426],{7384:function(e,t,a){a.r(t);var n=a(6540),l=a(3),s=a(6898);const r={EN:{brandTitle:"TINH HOA VI·ªÜT",tagline:"Where Vietnamese Excellence Meets Global Recognition",features:["Exclusive Gala Event","Cultural Performances","Networking with Honorees"],title:"Event Ticket Payment",subtitle:"Complete your payment to confirm your attendance",eventName:"Vietnamese Excellence Gala 2025",date:"December 10, 2025 ‚Äì 7:00 PM",location:"Saigon Opera House, Ho Chi Minh City",price:"Ticket Price: 500,000‚Ç´",payBtn:"Pay Now",loading:"Processing payment...",success:"Payment Confirmed! Thank you.",testBtn:"Test Portal Payment",langEN:"EN",langVN:"VN"},VN:{brandTitle:"TINH HOA VI·ªÜT",tagline:"N∆°i t√¥n vinh tinh hoa Vi·ªát Nam v∆∞∆°n t·∫ßm qu·ªëc t·∫ø",features:["S·ª± ki·ªán Gala ƒë·ªôc quy·ªÅn","Bi·ªÉu di·ªÖn vƒÉn h√≥a","K·∫øt n·ªëi c√πng c√°c tinh hoa"],title:"Thanh To√°n V√© S·ª± Ki·ªán",subtitle:"Ho√†n t·∫•t thanh to√°n ƒë·ªÉ x√°c nh·∫≠n tham d·ª±",eventName:"Gala Tinh Hoa Vi·ªát 2025",date:"10/12/2025 ‚Äì 19:00",location:"Nh√† h√°t Th√†nh ph·ªë, TP. H·ªì Ch√≠ Minh",price:"Gi√° v√©: 500,000‚Ç´",payBtn:"Thanh to√°n ngay",loading:"ƒêang x·ª≠ l√Ω thanh to√°n...",success:"Thanh to√°n th√†nh c√¥ng! C·∫£m ∆°n b·∫°n.",testBtn:"Ki·ªÉm tra thanh to√°n (Portal)",langEN:"EN",langVN:"VN"}};t.default=()=>{const{0:e,1:t}=(0,n.useState)("EN"),{0:a,1:c}=(0,n.useState)(!1),{0:i,1:o}=(0,n.useState)(!1),{0:m,1:u}=(0,n.useState)(null),{0:h,1:d}=(0,n.useState)(null),N=r[e];(0,n.useEffect)(()=>{s.ND.auth.getUser().then(e=>{let{data:t}=e;null!=t&&t.user&&u(t.user)})},[]);return n.createElement("div",{className:"auth-shell"},n.createElement("aside",{className:"brand-side"},n.createElement("div",{className:"brand-sheen"}),n.createElement("div",{className:"brand-pattern"}),n.createElement("div",{className:"brand-wrap"},n.createElement("h1",{className:"brand-name"},N.brandTitle),n.createElement("p",{className:"brand-tag"},N.tagline),n.createElement("ul",{className:"brand-features"},N.features.map((e,t)=>n.createElement("li",{key:t,className:"feature"},n.createElement("span",{className:"tick"},"‚úì"),n.createElement("span",null,e)))))),n.createElement("main",{className:"form-side"},n.createElement("header",{className:"form-top"},n.createElement("div",{className:"lang-switch"},n.createElement("button",{className:"lang "+("EN"===e?"active":""),onClick:()=>t("EN")},N.langEN),n.createElement("span",{className:"mid"},"|"),n.createElement("button",{className:"lang "+("VN"===e?"active":""),onClick:()=>t("VN")},N.langVN))),n.createElement("section",{className:"form-wrap",style:{color:"var(--ink)"}},n.createElement("div",{className:"intro"},n.createElement("h2",{className:"title"},N.title),n.createElement("p",{className:"subtitle"},N.subtitle)),n.createElement("div",{className:"auth-form",style:{textAlign:"center",color:"var(--ink)"}},n.createElement("div",{className:"field"},n.createElement("h3",{style:{color:"var(--gold-2)",fontSize:22,marginBottom:6}},N.eventName),n.createElement("p",null,N.date),n.createElement("p",null,N.location),n.createElement("p",{style:{fontWeight:700,marginTop:10}},N.price)),h?n.createElement("button",{className:"cta",onClick:async()=>{if(!h)return void alert("No QR data available.");const e={bankAccount:h.bankAccount,content:h.content,amount:h.amount,bankCode:h.bankCode,transType:"C"};console.log("üßæ Sending payload2:",e);try{const t=await fetch("https://integrations.tinhhoaviet.org.vn/vietqr/test-success",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.text();console.log("‚úÖ Response from test-success:",a)}catch(t){console.error("‚ùå Failed to post to /vietqr/test-success:",t)}},style:{backgroundColor:"#00b37a"}},N.testBtn):n.createElement("button",{className:"cta",onClick:async()=>{if(!m)return void alert("Please log in first.");try{c(!0);const e=await fetch("https://integrations.tinhhoaviet.org.vn/vietqr/payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:m.id})});if(!e.ok)throw new Error("Payment request failed.");const t=await e.json();console.log("üí≥ VietQR API Response:",t),t.qrLink?(d(t),window.open(t.qrLink,"_blank")):(alert("Payment link not received."),o(!0))}catch(e){console.error("‚ùå Payment Error:",e),alert("An error occurred while initiating payment.")}finally{c(!1)}},disabled:a||!m,style:{opacity:a||!m?.6:1,cursor:m?"pointer":"not-allowed"}},n.createElement("span",null,m?a?N.loading:N.payBtn:"Login required"),!a&&m&&n.createElement(l.dyV,{className:"arrow"})),i&&n.createElement("div",{style:{marginTop:20,color:"var(--gold-2)",fontWeight:700,display:"flex",justifyContent:"center",alignItems:"center",gap:8}},n.createElement(l.A3x,{size:22}),N.success)))))}}}]);
//# sourceMappingURL=component---src-pages-portal-test-tsx-8c1fc542119a4cd9d1ff.js.map